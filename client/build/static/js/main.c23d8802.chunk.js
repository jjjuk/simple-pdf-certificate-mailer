(this["webpackJsonpcertificate-generator-client"]=this["webpackJsonpcertificate-generator-client"]||[]).push([[0],{39:function(e){e.exports=JSON.parse('{"palette":{"common":{"black":"rgba(72, 72, 72, 1)","white":"rgba(235, 235, 235, 1)"},"background":{"paper":"rgba(132, 132, 132, 1)","default":"rgba(147, 147, 147, 1)"},"primary":{"light":"rgba(255, 246, 184, 1)","main":"rgba(255, 238, 113, 1)","dark":"rgba(255, 205, 0, 1)","contrastText":"rgba(72, 72, 72, 1)"},"secondary":{"light":"rgba(255, 224, 155, 1)","main":"rgba(240, 195, 126, 1)","dark":"rgba(230, 168, 82, 1)","contrastText":"rgba(72, 72, 72, 1)"},"error":{"light":"#e57373","main":"#f44336","dark":"#d32f2f","contrastText":"#fff"},"text":{"primary":"rgba(31, 31, 31, 1)","secondary":"rgba(0, 0, 0, 0.54)","disabled":"rgba(119, 119, 119, 0.38)","hint":"rgba(210, 255, 247, 0.38)"}}}')},62:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),i=n(11),o=n.n(i),s=n(14),l=n(42),b=n(99),d=n(109),j=n(105),h=n(112),u=n(110),g=n(100),f=n(103),p=n(66),x=n(115),O=n(114),m=n(104),y=n(65),S=n(102),v=n(113),w=n(106),k=n(107),C=n(108),T=n(111),N=n(41),I=n.n(N),B=n(39),z=Object(l.a)(B),L=Object(b.a)((function(e){return{mainPaper:{height:434,width:320,marginTop:"calc(50% - 217px)",marginLeft:"calc(50% - 160px)",padding:e.spacing(3)},input:{marginBottom:e.spacing(3)},label:{marginBottom:e.spacing(4)},numberContainer:{width:"100%",display:"flex",justifyContent:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)},number:{padding:"5px 15px",color:"rgba(255, 238, 113, 1)",border:"2px solid rgba(255, 238, 113, 0.5)",fontSize:"1.375rem",boxSizing:"border-box",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"500",lineHeight:"1.75",borderRadius:"8px",letterSpacing:"0.02857em",textTransform:"uppercase",display:"inline-flex"},logout:{position:"fixed",top:"0.3em",right:"0.3em",width:70,height:70}}})),P=function(e){var t=e.token,n=L(z),r=Object(c.useState)(""),i=Object(s.a)(r,2),o=i[0],l=i[1],b=Object(c.useState)(null),d=Object(s.a)(b,2),h=d[0],u=d[1],v=Object(c.useState)(!0),w=Object(s.a)(v,2),k=w[0],C=w[1],T=Object(c.useState)(!1),N=Object(s.a)(T,2),I=N[0],B=N[1];Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/getLastCertificateId"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){var t=e.lastId;u(t),C(!1)}))}),[u,C,I,t]);return Object(a.jsxs)(g.a,{className:n.mainPaper,elevation:5,children:[Object(a.jsx)(y.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(a.jsx)("div",{className:n.numberContainer,children:k?Object(a.jsx)(S.a,{}):Object(a.jsx)("div",{className:n.number,children:h})}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(p.a,{className:n.label,children:Object(a.jsx)(y.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"})}),Object(a.jsxs)(x.a,{className:n.input,children:[Object(a.jsx)(m.a,{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(a.jsx)(O.a,{value:o,type:"number",onChange:function(e){return l(e.target.value)}})]}),Object(a.jsx)(x.a,{children:Object(a.jsx)(j.a,{disabled:!o,color:"primary",variant:"contained",onClick:function(){return e=o,void fetch("".concat("http://90.188.249.253:3333","/setLastCertificateId"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({certificateId:e})}).then((function(){l(""),B(!I)}));var e},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]})},F=function(e){var t=e.refetch,n=e.trigger,r=L(z),i=Object(c.useState)(""),o=Object(s.a)(i,2),l=o[0],b=o[1],d=Object(c.useState)(!1),h=Object(s.a)(d,2),u=h[0],g=h[1];console.log(u);return Object(a.jsxs)(v.a,{maxWidth:"xs",fullWidth:!0,open:!0,children:[Object(a.jsx)(w.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(f.a,{children:Object(a.jsxs)(x.a,{className:r.input,children:[Object(a.jsx)(m.a,{error:u,children:u?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)(O.a,{value:l,type:"text",onChange:function(e){b(e.target.value),g(!1)},error:u})]})}),Object(a.jsx)(C.a,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(j.a,{disabled:!l,color:"primary",variant:"outlined",onClick:function(){return function(e){fetch("".concat("http://90.188.249.253:3333","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}).catch((function(e){return console.log(e)})).then((function(e){return e.json()})).then((function(e){var a=e.token;e.error&&g(!0),a&&window.localStorage.setItem("token",a),a&&t(!n)}))}(l)},children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},J=function(){var e,t=L(z),n=Object(c.useState)(!0),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(c.useState)(!1),b=Object(s.a)(l,2),j=b[0],g=b[1],f=Object(c.useState)(!1),p=Object(s.a)(f,2),x=p[0],O=p[1],m=null===(e=window)||void 0===e?void 0:e.localStorage.getItem("token");return Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/auth"),{headers:{Authorization:"Bearer "+m}}).catch((function(){g(!1),o(!1)})).then((function(e){return e.json()})).then((function(e){"\u0423\u0441\u043f\u0435\u0448\u043d\u043e"===e.status&&g(!0),o(!1)}))}),[m,g,x]),Object(a.jsxs)(d.a,{theme:z,children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(T.a,{className:t.logout,color:"primary",onClick:function(){window.localStorage.removeItem("token"),g(!1),O(!x)},children:Object(a.jsx)(I.a,{fontSize:"large"})}),i?Object(a.jsx)(S.a,{style:{height:"80px",marginTop:"calc(50% - 40px)",width:"80px",marginLeft:"calc(50% - 40px)"}}):Object(a.jsx)(h.a,{style:{height:"720px"},maxWidth:"md",children:j?Object(a.jsx)(P,{token:m}):Object(a.jsx)(F,{refetch:O,trigger:x})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(J,{})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.c23d8802.chunk.js.map
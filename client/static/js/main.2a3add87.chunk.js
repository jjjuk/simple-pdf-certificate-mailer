(this["webpackJsonpcertificate-generator-client"]=this["webpackJsonpcertificate-generator-client"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),i=n(12),o=n.n(i),s=n(25),l=n(53),d=n(13),j=n(71),b=n(150),h=n(167),u=n(156),x=n(162),O=n(168),p=n(109),f=n(153),g=n(110),m=n(154),v=n(174),y=n(155),w=n(40),S=n(152),k=n(161),C=n(175),T=n(171),I=n(172),N=n(157),z=n(158),B=n(160),L=n(169),P=n(173),F=n(170),W=n(159),A=n(70),E=n.n(A),J=n(66),R=n.n(J),D=n(67),H=n.n(D),q=n(68),K=n.n(q),M=n(69),X=n.n(M),Y=n(163),G=n(164),Q=n(166),U=n(165),V=n(64),Z=n.n(V),$=n(65),_=Object(j.a)($),ee=Object(b.a)((function(e){return{mainPaper:{height:434,width:320,marginTop:"240px",marginLeft:"calc(50% - 160px)",padding:e.spacing(3)},box:{padding:e.spacing(3)},feedPaper:{display:"flex",maxHeight:"calc(100vh - 118px)",maxWidth:545,marginTop:"70px",backgroundColor:"#939393",overflowY:"scroll",overflowX:"hidden","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#ffee7155",borderRadius:"4px"}},input:{marginBottom:e.spacing(3)},label:{marginBottom:e.spacing(4)},numberContainer:{width:"100%",display:"flex",justifyContent:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)},number:{padding:"5px 15px",color:"rgba(255, 238, 113, 1)",border:"2px solid rgba(255, 238, 113, 0.5)",fontSize:"1.375rem",boxSizing:"border-box",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"500",lineHeight:"1.75",borderRadius:"8px",letterSpacing:"0.02857em",textTransform:"uppercase",display:"inline-flex"},logout:{position:"fixed",top:"0em",right:"0.3em",width:70,height:70},"@media screen and (max-width: 600px)":{mainPaper:{marginTop:"85px !important"},box:{paddingLeft:"0px !important",paddingRight:"0px !important"}},"@media screen and (min-width: 801px)":{feedPaper:{marginLeft:"auto !important",marginRight:"auto !important"}}}})),te=function(e){var t=e.token,n=ee(_),r=Object(c.useState)(""),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(null),j=Object(d.a)(l,2),b=j[0],h=j[1],x=Object(c.useState)(!0),O=Object(d.a)(x,2),k=O[0],C=O[1],T=Object(c.useState)(!1),I=Object(d.a)(T,2),N=I[0],z=I[1];Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/getLastCertificateId"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){var t=e.lastId;h(t),C(!1)}))}),[h,C,N,t]);return Object(a.jsxs)(p.a,{className:n.mainPaper,elevation:2,children:[Object(a.jsx)(w.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(a.jsx)("div",{className:n.numberContainer,children:k?Object(a.jsx)(S.a,{}):Object(a.jsx)("div",{className:n.number,children:b})}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(g.a,{className:n.label,children:Object(a.jsx)(w.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"})}),Object(a.jsxs)(m.a,{className:n.input,children:[Object(a.jsx)(y.a,{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(a.jsx)(v.a,{value:o,type:"number",onChange:function(e){return s(e.target.value)}})]}),Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{disabled:!o,color:"primary",variant:"contained",onClick:function(){return e=o,void fetch("".concat("http://90.188.249.253:3333","/setLastCertificateId"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({certificateId:e})}).then((function(){s(""),z(!N)}));var e},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]})},ne=function(e){var t=e.refetch,n=e.trigger,r=ee(_),i=Object(c.useState)(!1),o=Object(d.a)(i,2),s=o[0],l=o[1],j=Object(c.useState)(""),b=Object(d.a)(j,2),h=b[0],x=b[1],O=Object(c.useState)(!1),p=Object(d.a)(O,2),g=p[0],w=p[1],S=function(e){fetch("".concat("http://90.188.249.253:3333","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}).catch((function(e){return console.log(e)})).then((function(e){return e.json()})).then((function(e){var a=e.token;"Invalid password."===e.message&&w(!0),a&&window.localStorage.setItem("token",a),a&&t(!n)}))};return Object(a.jsxs)(I.a,{maxWidth:"xs",fullWidth:!0,open:!0,children:[Object(a.jsx)(N.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsxs)(z.a,{children:[Object(a.jsx)(f.a,{children:Object(a.jsxs)(m.a,{className:r.input,children:[Object(a.jsx)(y.a,{error:g,children:g?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)(v.a,{autoFocus:!0,value:h,type:s?"text":"password",onChange:function(e){x(e.target.value),w(!1)},error:g,onKeyDown:function(e){var t=e.key;"Enter"===t&&S(h),"Escape"===t&&x("")},endAdornment:Object(a.jsx)(W.a,{size:"small",onClick:function(){return l(!s)},children:s?Object(a.jsx)(H.a,{style:{fontSize:"18px"}}):Object(a.jsx)(R.a,{style:{fontSize:"18px"}})})})]})}),Object(a.jsx)(B.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{disabled:!h,color:"primary",variant:"outlined",onClick:function(){return S(h)},children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},ae=function(e){var t=e.open,n=e.setOpen,c=e.handleLogout,r=Object(l.a)(e,["open","setOpen","handleLogout"]);return Object(a.jsxs)(I.a,Object(s.a)(Object(s.a)({},r),{},{maxWidth:"xs",fullWidth:!0,open:t,onClose:function(){return n(!1)},children:[Object(a.jsx)(N.a,{children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f?"}),Object(a.jsx)(z.a,{children:Object(a.jsxs)(B.a,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{color:"primary",variant:"outlined",onClick:function(){n(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{color:"primary",variant:"contained",onClick:function(){c()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})})]}))},ce=function(e){var t=e.token,n=e.open,r=e.refetch,i=e.trigger,o=e.setOpen,j=Object(l.a)(e,["token","open","refetch","trigger","setOpen"]),b=Object(c.useState)(!1),h=Object(d.a)(b,2),x=h[0],O=h[1];return Object(a.jsxs)(I.a,Object(s.a)(Object(s.a)({},j),{},{maxWidth:"xs",fullWidth:!0,open:!!n,onClose:function(){return o(null)},children:[Object(a.jsx)(N.a,{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e?"}),Object(a.jsx)(z.a,{children:Object(a.jsxs)(B.a,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{disabled:x,color:"primary",variant:"outlined",onClick:function(){o(null)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(a.jsx)(m.a,{children:Object(a.jsx)(u.a,{disabled:x,color:"primary",variant:"contained",onClick:function(){var e;e=n,O(!0),fetch("".concat("http://90.188.249.253:3333","/resend"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({id:e})}).catch((function(e){O(!1),window.alert(e)})).then((function(e){return e.json()})).then((function(e){var t=e.status;O(!1),o(null),r(!i),window.alert(t)}))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})}),x&&Object(a.jsx)(k.a,{variant:"query"})]}))};function re(e){var t=e.children,n=(e.value,e.index),c=Object(l.a)(e,["children","value","index"]),r=ee(_);return Object(a.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),{},{children:Object(a.jsx)(x.a,{maxWidth:"md",children:Object(a.jsx)(T.a,{className:r.box,children:t})})}))}var ie=function(e){var t=e.token,n=Object(c.useState)([]),i=Object(d.a)(n,2),o=i[0],s=i[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),b=j[0],h=j[1],x=Object(c.useState)(null),O=Object(d.a)(x,2),f=O[0],g=O[1],m=ee(_);return Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/feed"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){var t=e.feed;s(t)}))}),[t,s,b]),Object(a.jsx)(p.a,{elevation:0,className:m.feedPaper,children:Object(a.jsxs)(Y.a,{className:m.feed,children:[null===o||void 0===o?void 0:o.map((function(e){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(G.a,{alignItems:"flex-start",children:Object(a.jsx)(U.a,{primary:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)(w.a,{color:"primary",children:e.name}),e.certificateStatus?null:Object(a.jsx)(a.Fragment,{children:!!e.email&&Object(a.jsx)(u.a,{variant:"outlined",style:{color:"#a90c0c",borderColor:"#a90c0c",borderRadius:"calc(1.7em / 2)",marginLeft:"1em",minWidth:"0em",height:"1.7em"},onClick:function(){g(e.id)},children:"\u2757\ufe0f"})})]}),secondary:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(C.a,{color:"secondary",size:"small",variant:"outlined",label:"ID "+e.certificateId,style:{marginTop:"0.2em",marginBottom:"0.2em"}}),e.email&&Object(a.jsx)(C.a,{color:"secondary",size:"small",variant:"outlined",label:e.email,style:{marginTop:"0.2em",marginBottom:"0.2em",marginLeft:"0.4em"}})]}),e.product||"",Object(a.jsx)("br",{}),e.date]})})}),Object(a.jsx)(Q.a,{})]})})),Object(a.jsx)(ce,{token:t,open:f,setOpen:g,trigger:b,refetch:h})]})})},oe=function(){var e,t=ee(_),n=Object(c.useState)(!0),r=Object(d.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(!1),l=Object(d.a)(s,2),j=l[0],b=l[1],u=Object(c.useState)(!1),x=Object(d.a)(u,2),p=x[0],f=x[1],g=Object(c.useState)(!1),m=Object(d.a)(g,2),v=m[0],y=m[1],w=Object(c.useState)(0),k=Object(d.a)(w,2),C=k[0],T=k[1],I=null===(e=window)||void 0===e?void 0:e.localStorage.getItem("token");Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/auth"),{headers:{Authorization:"Bearer "+I}}).then((function(e){return e.json()})).then((function(e){"Success"===e.status&&b(!0),o(!1)})).catch((function(){b(!1),o(!1)}))}),[I,b,p]);return Object(a.jsxs)(h.a,{theme:_,children:[Object(a.jsx)(O.a,{}),j&&Object(a.jsxs)(L.a,{style:{height:"70px",backgroundColor:"rgba(132, 132, 132, 1)"},children:[Object(a.jsxs)(P.a,{centered:!0,value:C,onChange:function(e,t){T(t)},indicatorColor:"primary",textColor:"primary",children:[Object(a.jsx)(F.a,{value:0,icon:Object(a.jsx)(K.a,{}),style:{height:"70px"}}),Object(a.jsx)(F.a,{value:1,icon:Object(a.jsx)(X.a,{}),style:{height:"70px"}})]}),Object(a.jsx)(W.a,{className:t.logout,color:"primary",onClick:function(){return y(!0)},children:Object(a.jsx)(E.a,{fontSize:"large"})})]}),i?Object(a.jsx)(S.a,{style:{height:"80px",marginTop:"calc(50% - 40px)",width:"80px",marginLeft:"calc(50% - 40px)"}}):Object(a.jsx)(a.Fragment,{children:j?Object(a.jsxs)(Z.a,{index:C,onChangeIndex:function(e){T(e)},children:[Object(a.jsx)(re,{value:C,index:0,children:Object(a.jsx)(te,{token:I})}),Object(a.jsx)(re,{value:C,index:1,children:Object(a.jsx)(ie,{token:I})})]}):Object(a.jsx)(ne,{refetch:f,trigger:p})}),Object(a.jsx)(ae,{token:I,open:v,setOpen:y,handleLogout:function(){window.localStorage.removeItem("token"),y(!1),T(0),b(!1),f(!p)}})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),se()},65:function(e){e.exports=JSON.parse('{"palette":{"common":{"black":"rgba(72, 72, 72, 1)","white":"rgba(235, 235, 235, 1)"},"background":{"paper":"rgba(132, 132, 132, 1)","default":"rgba(147, 147, 147, 1)"},"primary":{"light":"rgba(255, 246, 184, 1)","main":"rgba(255, 238, 113, 1)","dark":"rgba(255, 205, 0, 1)","contrastText":"rgba(72, 72, 72, 1)"},"secondary":{"light":"rgba(255, 224, 155, 1)","main":"rgba(240, 195, 126, 1)","dark":"rgba(230, 168, 82, 1)","contrastText":"rgba(72, 72, 72, 1)"},"error":{"light":"#e57373","main":"#f44336","dark":"#d32f2f","contrastText":"#fff"},"text":{"primary":"rgba(31, 31, 31, 1)","secondary":"rgba(0, 0, 0, 0.54)","disabled":"rgba(119, 119, 119, 0.38)","hint":"rgba(210, 255, 247, 0.38)"}}}')}},[[107,1,2]]]);
//# sourceMappingURL=main.2a3add87.chunk.js.map
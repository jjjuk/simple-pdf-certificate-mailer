(this["webpackJsonpcertificate-generator-client"]=this["webpackJsonpcertificate-generator-client"]||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"palette":{"common":{"black":"rgba(72, 72, 72, 1)","white":"rgba(235, 235, 235, 1)"},"background":{"paper":"rgba(132, 132, 132, 1)","default":"rgba(147, 147, 147, 1)"},"primary":{"light":"rgba(255, 246, 184, 1)","main":"rgba(255, 238, 113, 1)","dark":"rgba(255, 205, 0, 1)","contrastText":"rgba(72, 72, 72, 1)"},"secondary":{"light":"rgba(255, 224, 155, 1)","main":"rgba(240, 195, 126, 1)","dark":"rgba(230, 168, 82, 1)","contrastText":"rgba(72, 72, 72, 1)"},"error":{"light":"#e57373","main":"#f44336","dark":"#d32f2f","contrastText":"#fff"},"text":{"primary":"rgba(31, 31, 31, 1)","secondary":"rgba(0, 0, 0, 0.54)","disabled":"rgba(119, 119, 119, 0.38)","hint":"rgba(210, 255, 247, 0.38)"}}}')},64:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),i=n(11),o=n.n(i),s=n(13),l=n(45),d=n(101),j=n(112),b=n(107),u=n(114),h=n(113),g=n(102),f=n(105),p=n(68),x=n(117),O=n(116),m=n(106),y=n(67),S=n(104),v=n(115),w=n(108),k=n(109),C=n(111),T=n(110),I=n(44),N=n.n(I),z=n(42),B=n.n(z),F=n(43),L=n.n(F),P=n(40),A=Object(l.a)(P),E=Object(d.a)((function(e){return{mainPaper:{height:434,width:320,marginTop:"240px",marginLeft:"calc(50% - 160px)",padding:e.spacing(3)},input:{marginBottom:e.spacing(3)},label:{marginBottom:e.spacing(4)},numberContainer:{width:"100%",display:"flex",justifyContent:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)},number:{padding:"5px 15px",color:"rgba(255, 238, 113, 1)",border:"2px solid rgba(255, 238, 113, 0.5)",fontSize:"1.375rem",boxSizing:"border-box",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"500",lineHeight:"1.75",borderRadius:"8px",letterSpacing:"0.02857em",textTransform:"uppercase",display:"inline-flex"},logout:{position:"fixed",top:"0.3em",right:"0.3em",width:70,height:70}}})),J=function(e){var t=e.token,n=E(A),r=Object(c.useState)(""),i=Object(s.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(null),j=Object(s.a)(d,2),u=j[0],h=j[1],v=Object(c.useState)(!0),w=Object(s.a)(v,2),k=w[0],C=w[1],T=Object(c.useState)(!1),I=Object(s.a)(T,2),N=I[0],z=I[1];Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/getLastCertificateId"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){var t=e.lastId;h(t),C(!1)}))}),[h,C,N,t]);return Object(a.jsxs)(g.a,{className:n.mainPaper,elevation:5,children:[Object(a.jsx)(y.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(a.jsx)("div",{className:n.numberContainer,children:k?Object(a.jsx)(S.a,{}):Object(a.jsx)("div",{className:n.number,children:u})}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(p.a,{className:n.label,children:Object(a.jsx)(y.a,{variant:"h5",color:"textSecondary",align:"center",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"})}),Object(a.jsxs)(x.a,{className:n.input,children:[Object(a.jsx)(m.a,{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(a.jsx)(O.a,{value:o,type:"number",onChange:function(e){return l(e.target.value)}})]}),Object(a.jsx)(x.a,{children:Object(a.jsx)(b.a,{disabled:!o,color:"primary",variant:"contained",onClick:function(){return e=o,void fetch("".concat("http://90.188.249.253:3333","/setLastCertificateId"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({certificateId:e})}).then((function(){l(""),z(!N)}));var e},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]})},W=function(e){var t=e.refetch,n=e.trigger,r=E(A),i=Object(c.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(""),u=Object(s.a)(j,2),h=u[0],g=u[1],p=Object(c.useState)(!1),y=Object(s.a)(p,2),S=y[0],I=y[1],N=function(e){fetch("".concat("http://90.188.249.253:3333","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}).catch((function(e){return console.log(e)})).then((function(e){return e.json()})).then((function(e){var a=e.token;"Invalid password."===e.message&&I(!0),a&&window.localStorage.setItem("token",a),a&&t(!n)}))};return Object(a.jsxs)(v.a,{maxWidth:"xs",fullWidth:!0,open:!0,children:[Object(a.jsx)(w.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(f.a,{children:Object(a.jsxs)(x.a,{className:r.input,children:[Object(a.jsx)(m.a,{error:S,children:S?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)(O.a,{autoFocus:!0,value:h,type:l?"text":"password",onChange:function(e){g(e.target.value),I(!1)},error:S,onKeyDown:function(e){var t=e.key;"Enter"===t&&N(h),"Escape"===t&&g("")},endAdornment:Object(a.jsx)(T.a,{size:"small",onClick:function(){return d(!l)},children:l?Object(a.jsx)(L.a,{style:{fontSize:"18px"}}):Object(a.jsx)(B.a,{style:{fontSize:"18px"}})})})]})}),Object(a.jsx)(C.a,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(b.a,{disabled:!h,color:"primary",variant:"outlined",onClick:function(){return N(h)},children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},D=function(){var e,t=E(A),n=Object(c.useState)(!0),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(s.a)(l,2),b=d[0],g=d[1],f=Object(c.useState)(!1),p=Object(s.a)(f,2),x=p[0],O=p[1],m=null===(e=window)||void 0===e?void 0:e.localStorage.getItem("token");return Object(c.useEffect)((function(){"undefined"!==typeof window&&fetch("".concat("http://90.188.249.253:3333","/auth"),{headers:{Authorization:"Bearer "+m}}).then((function(e){return e.json()})).then((function(e){"Succes"===e.status&&g(!0),o(!1)})).catch((function(){g(!1),o(!1)}))}),[m,g,x]),Object(a.jsxs)(j.a,{theme:A,children:[Object(a.jsx)(h.a,{}),b&&Object(a.jsx)(T.a,{className:t.logout,color:"primary",onClick:function(){window.localStorage.removeItem("token"),g(!1),O(!x)},children:Object(a.jsx)(N.a,{fontSize:"large"})}),i?Object(a.jsx)(S.a,{style:{height:"80px",marginTop:"calc(50% - 40px)",width:"80px",marginLeft:"calc(50% - 40px)"}}):Object(a.jsx)(u.a,{style:{height:"720px",overflow:"hidden"},maxWidth:"md",children:b?Object(a.jsx)(J,{token:m}):Object(a.jsx)(W,{refetch:O,trigger:x})})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),H()}},[[64,1,2]]]);
//# sourceMappingURL=main.db439ef2.chunk.js.map